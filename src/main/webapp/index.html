<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SP-2 Network, HTTP, Reverse Proxies and TLS</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<main>
    <div class="exercise">
        <h2>Monitoring HTTP Headers 1</h2>
        <ul class="links">
            <li><a href="e1/index.html">index.html</a></li>
            <li><a href="e1/index1.html">index1.html</a></li>
        </ul>
        <p class="command">Observe and explain each of the values monitored (use view source to see the plain
            messages).</p>
        <p class="answer">The developer window shows the requests made and responses received when loading the page.
            Currently only one request is sent for <a href="e1/index.html">index.html</a> and one response is received.
            The body of the response contains the html the browser renders. The response code is
            <span class="code">200</span>, meaning that the request was successful.</p>
        <p class="command">Go back to your browser and (while the developer window is open) change the url to point to
            the new file.</p>
        <p class="answer">
            The request is now made for <a href="e1/index1.html">index1.html</a>. The response is the same.
        </p>
        <p class="command">Press F5 and observe the values again.</p>
        <p class="answer">
            The request is the same, but the response code is now <span class="code">304 Not Modified</span>, meaning
            that the response was cached.
        </p>
    </div>
    <div class="exercise">
        <h2>Monitoring HTTP Headers 2</h2>
        <ul class="links">
            <li><a href="e2/index.html">index.html</a></li>
        </ul>
        <p class="command">Reload the page again, observe the request(s) being made, and explain the purpose of the
            Connection header.</p>
        <p class="answer">
            There are now three requests being made. The first request is for <a href="e2/index.html"></a>. The next
            request is for the stylesheet <a href="e2/myStyle.css">myStyle.css</a> linked in html. The third request
            is made for the image sourced in the html.
        </p>
        <p class="answer">The value of the Connection header is <span class="code">keep-alive</span>. This instructs the
            server to keep the connection alive, that can be used for subsequent requests and responses. This should
            provide a performance improvement, since opening a connection is an expensive operation.</p>
    </div>
    <div class="exercise">
        <h2>Monitoring HTTP Headers 3 (Response-codes 3xx)</h2>
        <ul class="links">
            <li><a href="e3/r.html">r.html</a></li>
            <li><a href="e3/redirect">redirect</a></li>
        </ul>
        <p class="command">Enter the address for the servlet (http:localhost:8080/redirect) into the browser and
            explain:
            <br>The two http-request you see
            <br>How the browser knew where to go in the second request
        </p>
        <p class="answer">
            The first http request is made for <span class="code">redirect</span>. The response code in the response to
            this request is <span class="code">302</span>, meaning that the resource was found at another url. The
            response also contains the <span class="code">Location</span> header, informing the client of where the
            resource is located. The browser can now create a second request, this time for <a
                href="e3/r.html">r.html</a>, that can then be rendered by the browser.
        </p>
    </div>
    <div class="exercise">
        <h2>Redirecting to https instead of http</h2>
        <p class="command">Explain the first two request monitored (notice where you requested to go, and where you
            actually ended).</p>
        <p class="answer">
            The first request is made for <a href="http://studypoints.dk">http://studypoints.dk</a>. The response to
            this request contains the <span class="code">307 Internal Redirect</span> code. This instructs the browser
            to to instead visit <a href="https://studypoints.dk">https://studypoints.dk</a> using the <span
                class="code">Location</span> response header.
        </p>
    </div>
    <div class="exercise">
        <h2>Status Codes</h2>
        <ul class="links">
            <li><a href="e4/ups">ups</a></li>
            <li><a href="e4/i_dont_exist">i_dont_exist</a></li>
        </ul>
        <p class="command">While your server is running, open open Chrome developer tools and the network tab and call
            the servlet. Write down the response code generated by the server as for the previous exercises.
        </p>
        <p class="answer">
            The generated response code is <span class="code">500 Internal Server Error</span>, meaning that the server
            was at fault for the unsuccessful request.
        </p>
        <p class="command">While your server is running, open open Chrome developer tools and the network tab, and call
            this address: <a href="e4/i_dont_exist">i_dont_exist</a>.</p>
        <p class="answer">
            The generated response code is <span class="code">404 Not Found</span>, meaning that the resource could not
            be found.
        </p>
        <p class="command">Explain (write down your answer so you won’t forget) the meaning of the first digit in the
            3-digit Status Codes you have seen so far.</p>
        <p class="answer">
            The response codes are separated into logical ranges with different meanings. Codes in the form <span
                class="code">2xx</span> mean that the request was successful. Codes in the form <span
                class="code">3xx</span> mean that the client must redirect. Codes in the form <span
                class="code">4xx</span> mean that the client made some mistake (was at fault). Codes in the form <span
                class="code">5xx</span> mean that the server made some mistake (was at fault).
        </p>
    </div>
    <div class="exercise">
        <h2>Get HTTP Request Headers on the Server</h2>
        <ul class="links">
            <li><a href="e6/headers">headers</a></li>
        </ul>
    </div>
    <div class="exercise">
        <h2>Get/Post-parameters</h2>
        <ul class="links">
            <li><a href="e5/form.html">form.html</a></li>
        </ul>
        <p class="command">
            Set the forms method-attribute to the value <span class="code">GET</span> and test the form. Observe
            what happens in your browser's address field.
        </p>
        <p class="answer">
            A new request is made for the page <a href="e5/form.html">form.html#</a> (note the "#"), with the key-value
            pairs in the four inputs in the <span class="code">form</span>.
        </p>
        <p class="command">Change the forms method-attribute to the value “POST” and test the form. Observe the change
            in your browsers address field. Figure out (using Chrome Developer Tools), how parameters are passed in, for
            a POST request.
        </p>
        <p class="answer">
            The request is made to the same url as before, but this time using the <span class="code">POST</span> method
            instead. The parameters are no longer sent through the url. The parameters are instead sent elsewhere in the
            request.
        </p>
    </div>
    <div class="exercise">
        <h2>Sessions (Session Cookies)</h2>
        <ul class="links">
            <li><a href="e7/session">session</a></li>
        </ul>
        <p class="command">
            Enter your name and press submit, copy the URL in the browser into your clipboard, close the tab (but not
            the browser) and load the page again in a new tab using the URL in the clipboard.
        </p>
        <p class="answer">
            The first response shows <span class="code">Welcome Thomas!</span> and stores my name in a session. The
            second response again shows my name. Both sessions now contain my name.
        </p>
        <p class="command">While doing the things in step d, you should monitor the content of your local cookies and
            the HTTP requests being sent, using the development tools in Chrome.</p>
        <p class="answer">
            The session id is sent to the server through the request.
        </p>
        <p class="command">
            Explain (on paper) using both words and images how the Server can maintain state between subsequent calls
            even when the state is not transmitted from the client to server.
        </p>
        <p class="answer">
            Cookies are small text-values sent between the client and server.
            Sessions work on top of cookies. A session id is sent to the server on each request through a cookie. The
            server uses this session id to identify the client. The actual session values are stored on the server, and
            cannot be accessed by the client.
        </p>
    </div>
    <div class="exercises">
        <h2>Persistent Cookies</h2>
        <ul class="links">
            <li><a href="e8/cookies">cookies</a></li>
        </ul>
        <p class="command">
            Explain (on paper) how Cookies can be used to maintain “state” on the client between subsequent calls to a
            server, even when a browser has been closed down.
        </p>
        <p class="answer">
            In the example before state (the username) can be maintained through the following. First the server sends a
            response cookie (username=Thomas), instructing the client to send the cookie on subsequent requests. Next
            time the request is made without the name in the url, the server can access the name through the request
            cookie sent by the client.
        </p>
    </div>
    <div class="exercise">
        <h2>More links</h2>
        <ul class="links">
            <li><a href="part1.html">Understanding Basic Network Terms</a></li>
            <li><a href="part2.html">Understanding Reverse proxy and SSL</a></li>
        </ul>
    </div>
</main>
</body>
</html>